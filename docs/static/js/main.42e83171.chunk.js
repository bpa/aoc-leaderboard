(this.webpackJsonpleaderboard=this.webpackJsonpleaderboard||[]).push([[0],{13:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(7),s=a.n(c),o=a(5),i=a(6),l=a(0);function d(t){if(!t)return"--:--:--";if(t>86400)return"  >24h  ";var e=t%60,a=(t=(t-e)/60)%60;return[t=(t-a)/60,a,e].map((function(t){return t.toString().padStart(2,"0")})).join(":")}function p(t,e,a){if(t.completion[a]){if(e.completion[a])return t.completion[a]-e.completion[a]}else if(e.completion[a])return 1;return 0}var u=function(){var t=Object(n.useState)({}),e=Object(i.a)(t,2),a=e[0],r=e[1],c=Object(n.useState)(0),s=Object(i.a)(c,2),u=s[0],b=s[1],j=Object.values(a.members||{}).sort((function(t,e){var a=0;return u&&(a=p(t,e,"".concat(u,"-2"))||p(t,e,"".concat(u,"-1"))),a||e.local_score-t.local_score||t.last_star_ts-e.last_star_ts})),m=2021,h=new Date((new Date).getTime()-18e6),f=h>new Date("".concat(m,"-12-25T00:00:00-05:00"))?25:h.getDate();Object(n.useEffect)((function(){var t=Math.floor(new Date("".concat(m,"-12-01T00:00:00-05:00")).getTime()/1e3);fetch("https://adventofcode.com/".concat(m,"/leaderboard/private/view/").concat(26428,".json")).then((function(t){return t.json()})).then((function(e){return Object.values(e.members||{}).map((function(e){var a={};if(e.completion_day_level)for(var n in e.completion_day_level){var r=e.completion_day_level[n];for(var c in r){var s=r[c].get_star_ts-t-86400*(n-1);a["".concat(n,"-").concat(c)]=s}}return{name:e.name||"(anonymous user #".concat(e.id,")"),completion:a,local_score:e.local_score,global_score:e.global_score,last_star_ts:e.last_star_ts,stars:e.stars}}))})).then((function(t){return{nameWidth:3+Math.max.apply(Math,Object(o.a)(t.map((function(t){return t.name.length})))),digits:Math.floor(Math.log10(Math.max.apply(Math,Object(o.a)(t.map((function(t){return t.local_score})))))),members:t}})).then((function(t){return r(t)}))}),[m,26428]);var v=function(t){b(t.target.text)},O=function(t){if(t<10)return t;var e=t%10,a=(t-e)/10;return Object(l.jsxs)(l.Fragment,{children:[a,Object(l.jsx)("br",{}),e]})},x=function(t){for(var e=[],a=1;a<26;a++){var n=a>f?"privboard-star-locked":"privboard-star-unlocked";"".concat(a,"-1")in t.completion&&(n="privboard-star-firstonly"),"".concat(a,"-2")in t.completion&&(n="privboard-star-both"),e.push(Object(l.jsx)("span",{className:n,children:"*"},a))}return e};return Object(l.jsxs)("article",{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"privboard-star-both",children:"Gold"})," indicates the user got both stars for that day, ",Object(l.jsx)("span",{className:"privboard-star-firstonly",children:"silver"})," means just the first star, and ",Object(l.jsx)("span",{className:"privboard-star-unlocked",children:"gray"})," means none. "]}),Object(l.jsxs)("div",{className:"privboard-row",children:["".padStart(a.digits+6," "),Object(l.jsx)("span",{className:"privboard-days",children:function(){for(var t=[],e=1;e<26;e++)e>f?t.push(Object(l.jsx)("span",{children:O(e)})):t.push(Object(l.jsx)("a",{href:"#",onClick:v,children:O(e)},e));return t}()}),"  ",Object(l.jsx)("a",{href:"#",onClick:function(){return b(0)},children:"Overall"}),"".padEnd(a.nameWidth-7," "),u?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"leaderboard-daydesc-first",children:"-Part 1-"}),"  ",Object(l.jsx)("span",{className:"leaderboard-daydesc-both",children:"-Part 2-"})]}):null]}),Object(l.jsx)("div",{className:"privboard-row",children:Object(l.jsx)("span",{className:"privboard-days",children:j.map((function(t,e){return Object(l.jsxs)("div",{className:"privboard-row",children:[Object(l.jsxs)("span",{className:"privboard-position",children:["".concat(e+1).padStart(2," "),")"]})," ".concat(t.local_score," ").padStart(a.digits+3," "),x(t),"  ",Object(l.jsx)("span",{className:"privboard-name",children:t.name.padEnd(a.nameWidth," ")}),u?d(t.completion["".concat(u,"-1")])+"  "+d(t.completion["".concat(u,"-2")]):null]})}))})})]})},b=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),c(t),s(t)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(u,{})}),document.getElementById("root")),b()}},[[13,1,2]]]);
//# sourceMappingURL=main.42e83171.chunk.js.map